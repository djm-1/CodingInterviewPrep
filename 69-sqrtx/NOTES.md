mid and x/mid are compared to avoid overflow.